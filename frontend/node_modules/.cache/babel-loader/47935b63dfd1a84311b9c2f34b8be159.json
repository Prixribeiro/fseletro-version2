{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/priscila/Desktop/ProjetoFullStackEletro-master/src/Components/Footer/Contato/Form.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nexport default function Contact() {\n  _s();\n\n  const [messages, setMessages] = useState([]);\n  const [render, setRender] = useState(false);\n  const [msg, setMsg] = useState({\n    formSave: false,\n    type: \"\",\n    message: \"\"\n  });\n  const [formData, setFormData] = useState({\n    nome: \"\",\n    msg: \"\"\n  });\n  useEffect(() => {\n    async function fetchMyAPI() {\n      const response = await fetch(\"http://localhost:8080/mensagem\");\n      setMessages(await response.json());\n    }\n\n    fetchMyAPI();\n  }, [render]);\n\n  const onChangeInput = e => setFormData({ ...formData,\n    [e.target.name]: e.target.value\n  });\n\n  const sendForm = async e => {\n    e.preventDefault();\n\n    try {\n      const res = await fetch(\"http://localhost:8080/mensagem\", {\n        method: \"POST\",\n        body: JSON.stringify(formData),\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(dados => {\n        setRender(!render);\n        setFormData({\n          nome: \"\",\n          msg: \"\"\n        });\n      });\n      const responseEnv = await res.json();\n\n      if (responseEnv.error) {\n        setMsg({\n          formSave: false,\n          type: \"error\",\n          message: responseEnv.message\n        });\n      } else {\n        setMsg({\n          formSave: false,\n          type: \"success\",\n          message: responseEnv.message\n        });\n      }\n    } catch (err) {\n      setMsg({\n        formSave: false,\n        type: \"error\",\n        message: \"Erro: mensagem nÃ£o cadastrada, tente mais tarde!\"\n      });\n    }\n\n    setTimeout(() => {\n      setMsg(false);\n    }, 2000);\n  };\n\n  const formatDate = rawDate => {\n    const myDate = new Date(rawDate);\n    const d = myDate.getDay();\n    const mo = myDate.getMonth() + 1;\n    const y = myDate.getFullYear();\n    const h = myDate.getHours();\n    const mi = myDate.getMinutes();\n    return `${d}/${mo}/${y} - ${h}:${mi}`;\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-center\",\n        children: \"Fale Conosco\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section d-flex justify-content-center my-5 row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"contacts col-lg-3 col-md-4 col-sm-6 col-xs-9\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-center\",\n          children: \" Deixe sua mensagem\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: sendForm,\n          name: \"form\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              value: formData.nome,\n              onChange: onChangeInput,\n              type: \"text\",\n              className: \"form-control\",\n              id: \"nome\",\n              name: \"nome\",\n              placeholder: \"Nome:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              value: formData.msg,\n              onChange: onChangeInput,\n              type: \"text\",\n              className: \"form-control\",\n              id: \"msg\",\n              name: \"msg\",\n              placeholder: \"Mensagem:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"submit\",\n              name: \"submit\",\n              className: \"btn btn-block btn-success\",\n              value: \"Enviar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 15\n            }, this), msg.type === \"success\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"alert alert-success position-absolute mx-auto mt-4 w-50 text-center\",\n              role: \"alert\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"lead text-dark\",\n                children: msg.message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 17\n            }, this) : \"\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"messages col-lg-3 col-md-4 col-sm-6 col-xs-9\",\n        children: messages.map(row => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"media text-muted pt-3  border-bottom\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"media-body pb-3 mb-0 small lh-125 border-gray\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex justify-content-between align-items-center w-100\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                className: \"text-gray-dark display-5\",\n                children: row.nome\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: formatDate(row.data)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"d-block\",\n              children: row.msg\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 15\n          }, this)\n        }, messages.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Contact, \"wejNpkZ85dPOWGX1qLZCD+oRO/Y=\");\n\n_c = Contact;\n\nvar _c;\n\n$RefreshReg$(_c, \"Contact\");","map":{"version":3,"sources":["/Users/priscila/Desktop/ProjetoFullStackEletro-master/src/Components/Footer/Contato/Form.js"],"names":["React","useState","useEffect","Contact","messages","setMessages","render","setRender","msg","setMsg","formSave","type","message","formData","setFormData","nome","fetchMyAPI","response","fetch","json","onChangeInput","e","target","name","value","sendForm","preventDefault","res","method","body","JSON","stringify","headers","then","dados","responseEnv","error","err","setTimeout","formatDate","rawDate","myDate","Date","d","getDay","mo","getMonth","y","getFullYear","h","getHours","mi","getMinutes","map","row","data","id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nexport default function Contact() {\n  const [messages, setMessages] = useState([]);\n  const [render, setRender] = useState(false);\n  const [msg, setMsg] = useState({\n    formSave: false,\n    type: \"\",\n    message: \"\",\n  });\n  const [formData, setFormData] = useState({\n    nome: \"\",\n    msg: \"\",\n  });\n\n  useEffect(() => {\n    async function fetchMyAPI() {\n      const response = await fetch(\"http://localhost:8080/mensagem\");\n      setMessages(await response.json());\n    }\n    fetchMyAPI();\n  }, [render]);\n\n  const onChangeInput = (e) =>\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n\n  const sendForm = async (e) => {\n    e.preventDefault();\n    try {\n      const res = await fetch(\"http://localhost:8080/mensagem\", {\n        method: \"POST\",\n        body: JSON.stringify(formData),\n        headers: { \"Content-Type\": \"application/json\" },\n      }).then((dados) => {\n          setRender(!render);\n          setFormData({\n            nome: \"\",\n            msg: \"\",\n          });\n        });\n\n      const responseEnv = await res.json();\n\n      if (responseEnv.error) {\n        setMsg({\n          formSave: false,\n          type: \"error\",\n          message: responseEnv.message,\n        });\n      } else {\n        setMsg({\n          formSave: false,\n          type: \"success\",\n          message: responseEnv.message,\n        });\n      }\n    }catch(err){\n      setMsg({\n        formSave: false,\n        type: \"error\",\n        message: \"Erro: mensagem nÃ£o cadastrada, tente mais tarde!\",\n      });\n    }\n\n    setTimeout(() => {\n      setMsg(false);\n    }, 2000);\n  };\n\n  const formatDate = (rawDate) => {\n    const myDate = new Date(rawDate);\n    const d = myDate.getDay();\n    const mo = myDate.getMonth() + 1;\n    const y = myDate.getFullYear();\n    const h = myDate.getHours();\n    const mi = myDate.getMinutes();\n\n    return `${d}/${mo}/${y} - ${h}:${mi}`;\n  };\n\n  return (\n    <>\n      <div className=\"header\">\n        <h1 className=\"text-center\">Fale Conosco</h1>\n            <hr></hr>\n      </div>\n      <div className=\"section d-flex justify-content-center my-5 row\">\n        <div className=\"contacts col-lg-3 col-md-4 col-sm-6 col-xs-9\">\n        \n        <h4 className = \"text-center\"> Deixe sua mensagem</h4>\n          <form onSubmit={sendForm} name=\"form\">\n            <div className=\"form-group\">\n              <input\n                value={formData.nome}\n                onChange={onChangeInput}\n                type=\"text\"\n                className=\"form-control\"\n                id=\"nome\"\n                name=\"nome\"\n                placeholder=\"Nome:\"\n              />\n              <input\n                value={formData.msg}\n                onChange={onChangeInput}\n                type=\"text\"\n                className=\"form-control\"\n                id=\"msg\"\n                name=\"msg\"\n                placeholder=\"Mensagem:\"\n              />\n              <input\n                type=\"submit\"\n                name=\"submit\"\n                className=\"btn btn-block btn-success\"\n                value=\"Enviar\"\n              />\n              {msg.type === \"success\" ? (\n                <div\n                  className=\"alert alert-success position-absolute mx-auto mt-4 w-50 text-center\"\n                  role=\"alert\"\n                >\n                  <span className=\"lead text-dark\">{msg.message}</span>\n                </div>\n              ) : (\n                \"\"\n              )}\n            </div>\n          </form>\n        </div>\n\n        <div className=\"messages col-lg-3 col-md-4 col-sm-6 col-xs-9\">\n          \n          {messages.map((row) => (\n            <div key={messages.id} className=\"media text-muted pt-3  border-bottom\">\n              <div className=\"media-body pb-3 mb-0 small lh-125 border-gray\">\n                <div className=\"d-flex justify-content-between align-items-center w-100\">\n                  <strong className=\"text-gray-dark display-5\">{row.nome}</strong>\n                  <p>{formatDate(row.data)}</p>\n                </div>\n                <p className=\"d-block\">{row.msg}</p>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n      \n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}